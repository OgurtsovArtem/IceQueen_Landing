"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var duration=500,accordion=function(){var t=document.querySelectorAll("[data-accordion-button]"),e=document.querySelectorAll("[data-accordion-content]"),n=document.querySelectorAll("[data-accordion]");setAccListener(t),accordionInit(n,e)},setAccordionAction=function(t){t.preventDefault();var e=t.target;if(e.hasAttribute("data-accordion")||e.closest("[data-accordion]")){var n=e.hasAttribute("data-accordion")?e:e.closest("[data-accordion]"),o=n.querySelector("[data-accordion-content]"),r=n.closest("[data-accordions]");!r.hasAttribute("data-one-accordion")||n.classList.contains("_active")||r.classList.contains("_slide")||hideAccordionBody(r),o.classList.contains("_slide")||r.classList.contains("_slide")||(n.classList.toggle("_active"),r.classList.add("_slide"),slideToggle(o,duration))}},hideAccordionBody=function(t){var e=t.querySelector("[data-accordion]._active");if(e){e.classList.remove("_active");var n=e.querySelector("[data-accordion-content]");slideUp(n,500)}},setAccListener=function(t){t.length>0&&t.forEach((function(t){t.addEventListener("click",setAccordionAction)}))},accordionInit=function(t,e){e.length>0&&e.forEach((function(t){slideToggle(t)})),t.length>0&&t.forEach((function(t){t.classList.add("_init")}))},slideUp=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;t.classList.contains("_slide")||(t.classList.add("_slide"),t.style.transitionProperty="height, margin, padding",t.style.transitionDuration="".concat(e,"ms"),t.style.height="".concat(t.offsetHeight,"px"),t.offsetHeight,t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout((function(){t.hidden=!0,t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide"),t.closest("[data-accordions]").classList.remove("_slide")}),e))},slideDown=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;if(!t.classList.contains("_slide")){t.classList.add("_slide"),t.hidden&&(t.hidden=!1);var n=t.offsetHeight;t.style.overflow="hidden",t.style.height=0,t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration="".concat(e,"ms"),t.style.height="".concat(n,"px"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((function(){t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide"),t.closest("[data-accordions]").classList.remove("_slide")}),e)}},slideToggle=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return t.hidden?slideDown(t,e):slideUp(t,e)};document.addEventListener("DOMContentLoaded",(function(){accordion()}));var animation=function(){var t=document.querySelectorAll("._animation"),e=!1;if(t.length>0){var n=function(){for(var e=0;e<t.length;e++){var n=t[e],o=n.getBoundingClientRect().height,r=(a=n,s=void 0,c=void 0,d=void 0,s=a.getBoundingClientRect(),c=window.pageXOffset||document.documentElement.scrollLeft,d=window.pageYOffset||document.documentElement.scrollTop,{top:s.top+d,left:s.left+c}).top,i=window.innerHeight-o/4;o>window.innerHeight&&(i=window.innerHeight-window.innerHeight/4),window.pageYOffset>r-i&&window.pageYOffset<r+o?n.classList.add("_active-animation"):n.classList.contains("_animation-repeat")&&n.classList.remove("_active-animation")}var a,s,c,d};window.addEventListener("scroll",(function(){!1===e&&window.requestAnimationFrame((function(){n(),e=!1})),e=!0})),document.addEventListener("DOMContentLoaded",(function(){return setTimeout((function(){n()}),300)}))}};document.addEventListener("DOMContentLoaded",(function(){animation()})),document.addEventListener("DOMContentLoaded",(function(){var t=document.forms.largeForm,e=document.forms.averageForm,n=document.forms.mediumForm,o=document.forms.popupForm,r=function(){function t(e){var n=e.inputs,o=e.form,r=e.button;_classCallCheck(this,t),this.inputs=n,this.button=r,this.form=o,this.listener()}return _createClass(t,[{key:"statusForm",value:function(){var t=this,e=!0;this.inputs.forEach((function(n){return t.checkInputValidity(n)||(e=!1),e})),this.setSubmitButtonState(e,this.button)}},{key:"checkInputValidity",value:function(t){return t.value.length<=0?(t.previousElementSibling.classList.add("_required"),!1):!0===t.validity.tooShort||!0===t.validity.valueMissing||!0===t.validity.patternMismatch?(t.previousElementSibling.classList.add("_error"),!1):(t.previousElementSibling.classList.remove("_error"),t.previousElementSibling.classList.remove("_required"),!0)}},{key:"setSubmitButtonState",value:function(t,e){!0===t?e.removeAttribute("disabled"):e.setAttribute("disabled",!0)}},{key:"listener",value:function(){this.form.addEventListener("input",this.statusForm.bind(this))}}]),t}();t&&new r({inputs:_toConsumableArray(t.getElementsByTagName("input")),form:t,button:t.querySelector('button[type="submit"]')}).statusForm();e&&new r({inputs:_toConsumableArray(e.getElementsByTagName("input")),form:e,button:e.querySelector('button[type="submit"]')}).statusForm();n&&new r({inputs:_toConsumableArray(n.getElementsByTagName("input")),form:n,button:n.querySelector('button[type="submit"]')}).statusForm();o&&new r({inputs:_toConsumableArray(o.getElementsByTagName("input")),form:o,button:o.querySelector('button[type="submit"]')}).statusForm()}));var popup=function(){var t=_toConsumableArray(document.querySelectorAll("[data-popup]")),e=_toConsumableArray(document.querySelectorAll("._popup")),n="callUs";if(t&&e){var o=function(t){t.preventDefault();var e=t.currentTarget.getAttribute("data-popup");if(e===n){var o=document.querySelector(".request-popup");i(o),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:e}),o.classList.contains("._open")&&r(t)}},r=function(t){(t.target.classList.contains("_popup-close")||t.target.classList.contains("_popup-close-area"))&&a(t.target,"._popup").classList.remove("_open")},i=function(t){t.classList.add("_open")},a=function(t,e){if(Element.prototype.closest)return t.closest(e);for(var n=t;n;){if(n.matches(e))return n;n=n.parentElement}return null};t.forEach((function(t){t.addEventListener("click",o)})),e.forEach((function(t){t.addEventListener("click",r)}))}};document.addEventListener("DOMContentLoaded",(function(){popup()}));var stikyBlock=function(){var t=document.querySelector("._stickyContainer");if(t){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=t.querySelectorAll("._stickySwipeElement"),o=t.querySelectorAll("._anotherStickySwipeElement");n.forEach((function(t,n){n===e?t.classList.add("_active"):t.classList.remove("_active")})),o.forEach((function(t,n){n===e?t.classList.add("_active"):t.classList.remove("_active")}))},n=t.getAttribute("data-count");e();var o=function(t){var e=t.getBoundingClientRect(),n=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop;return{top:e.top+o,left:e.left+n}},r=t.offsetHeight,i=r/n,a=r-i;i=a/n;var s=0,c=-1,d=0,l=!0;window.addEventListener("scroll",(function(){var u,m=o(t).top;window.pageYOffset>m&&window.pageYOffset<m+r&&(u=document.documentElement.scrollTop,l=!(d>u),d=u,window.pageYOffset-m+i>s+i&&!0===l&&s<a?(c++,s+=i,c<=n&&c>=0&&e(c)):window.pageYOffset-m+i<s&&!1===l&&(c--,s-=i,c<=n&&c>=0&&e(c)))}))}};document.addEventListener("DOMContentLoaded",(function(){stikyBlock()}));var menuHandler=function(){document.querySelector(".burger").addEventListener("click",(function(t){t.preventDefault();var e=t.target.closest(".header"),n=document.getElementsByTagName("html")[0];e&&(e.classList.toggle("_menu-open"),n.classList.toggle("_fixed"))}))};document.addEventListener("DOMContentLoaded",(function(){menuHandler()}));var videoFunction=function(){var t=document.querySelector(".video__container");if(t){var e=t.querySelector(".video__button"),n=t.querySelector(".video__player");e.addEventListener("click",(function(){n.play(),n.setAttribute("controls",!0),e.classList.add("_hide")}))}};function phoneMask(){document.querySelectorAll("input[data-phone]").forEach((function(t){t.addEventListener("input",(function(t){var e=t.target.value.replace(/\D/g,"");e&&("7"!==e[0]&&"8"!==e[0]||(e=e.slice(1)),e=e.match(/(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/),e="+7".concat(e[2]?"(".concat(e[1],")").concat(e[2]):e[1]?e[1]:"").concat(e[3]?"-".concat(e[3]):"").concat(e[4]?"-".concat(e[4]):"")),t.target.value=e}))}))}function sendForms(){var t=document.forms;function e(t,e){if(Element.prototype.closest)return t.closest(e);for(var n=t;n;){if(n.matches(e))return n;n=n.parentElement}return null}function n(t){var n=e(t.target,"form");if(n){return fetch("".concat("https://icequeen-cryo.com","/send.php"),{method:"POST",body:new FormData(n)}).then((function(o){if(o.ok){var r=document.querySelector(".successful-popup"),i=e(t.target,"form");if(i){var a=i.getAttribute("name");a&&(window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:a}),i.reset())}r&&r.classList.add("_open");var s=e(n,"._popup._open");s&&s.classList.remove("_open")}})).catch((function(t){return console.log(t)}))}}Array.from(t).forEach((function(t){t.querySelector('button[type="submit"]').addEventListener("click",n)}))}document.addEventListener("DOMContentLoaded",(function(){videoFunction()})),document.addEventListener("DOMContentLoaded",(function(){phoneMask()})),document.addEventListener("DOMContentLoaded",(function(){sendForms()}));